<p>
  asteroids works!
</p>

<!-- {{asteroides | json}} -->

<div class="container">
  <form
    class="form-inline col-8 mx-auto"
    [formGroup]="formBusca"
  >
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon">
          Data inicial
        </span>
        <input
          select="Util.formatDate(formBusca.get('start_date').value)"
          class="form-control"
          placeholder="yyyy-mm-dd"
          name="dp"
          ngbDatepicker
          #d1="ngbDatepicker"
          formControlName="start_date"
        >
        <button class="input-group-addon" (click)="d1.toggle()" type="button">
          <i class="fa fa-calendar" aria-hidden="true"></i>
        </button>
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <span class="input-group-addon">
          Data final
        </span>
        <input
          class="form-control"
          placeholder="yyyy-mm-dd"
          name="dp1"
          ngbDatepicker
          #d2="ngbDatepicker"
          formControlName="end_date"
        >
        <button class="input-group-addon" (click)="d2.toggle()" type="button">
          <i class="fa fa-calendar" aria-hidden="true"></i>
        </button>
      </div>
    </div>
    <button type="button" class="btn" (click)="searchByDate(formBusca.value)">
      <i class="fa fa-search" aria-hidden="true"></i>
    </button>
  </form>
  <div class="mt-3">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>
            Data
          </th>
          <th>
            Nome
          </th>
          <th>
            Velocidade(km/h)
          </th>
          <th>
            Perigo
          </th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let array of asteroides">
          <tr *ngFor="let item of array.neo" [class.bg-warning]="item.is_potentially_hazardous_asteroid === true">
            <td>
              {{array.data | date:'d, MMMM yyyy'}}
            </td>
            <td>
              {{item.name}}
            </td>
            <td>
              {{item.close_approach_data[0].relative_velocity.kilometers_per_hour + ' km/h'}}
            </td>
            <td>
              {{item.is_potentially_hazardous_asteroid}}
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>
